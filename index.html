<!Doctype html>
<html lang="en">
    <head>
        <link rel="stylesheet" href="rps.css">
    </head>
    <body>
        <div class="playBtn">
            <div class="flex_wrapper">
                <button type="button" id="rockBtn">Rock</button>  
                <button type="button" id="paperBtn">Paper</button>    <!-- create three buttons for rock, paper and scissor -->
                <button type ="button" id="scissorBtn">Scissor</button>
            </div>
        </div>

        <script >
            function getComputerChoice(){  //to generate random computer choice        
                var gameOption = ["rock", "paper", "scissor"];
                var index = Math.floor(Math.random()*gameOption.length);    //such a clever way to generate the choice
                return gameOption[index];
            }

            var playerWinTab = 0;           //user win counter
            var computerWinTab = 0;         // computer win counter
            let userInput = '';
            let computerChoice = '';

           // if(playerWinTab == 0) window.alert('Hemlooo');  //basic alter func

            let playBtn = document.querySelector(".playBtn");       //playbtn is the div to envelope the 3 buttons
            let rockBtn = document.querySelector("#rockBtn");
            let scissorBtn = document.querySelector("#scissorBtn");
            let paperBtn = document.querySelector("#paperBtn");


            rockBtn.addEventListener('click', (e) =>{ 
                userInput = 'rock'
                computerChoice = getComputerChoice(); // what i did wrong was instead of tin the fucntion i genreated it outside and it was constant
                window.alert(`you chose ${userInput} while computer chose ${computerChoice}`);
                evaluateResult(computerChoice, userInput);
                winCounter(playerWinTab, computerWinTab);
            });

            const div = document.createElement('div'); 
            div.classList.add('result')     //div is created here and modified in swtich cases
            div.innerText = `Result:
            Player1 wins: ${playerWinTab}
            Skynet wins : ${computerWinTab}`
            playBtn.appendChild(div);

            paperBtn.addEventListener('click', (e) =>{ 
                userInput = 'paper'
                computerChoice = getComputerChoice();
                window.alert(`you chose ${userInput} while computer chose ${computerChoice}`);
                evaluateResult(computerChoice, userInput);
                winCounter(playerWinTab, computerWinTab);

            });

            scissorBtn.addEventListener('click', (e) =>{ 
                userInput = 'scissor'
                computerChoice = getComputerChoice();
                window.alert(`you chose ${userInput} while computer chose ${computerChoice}`);
                evaluateResult(computerChoice, userInput);
                winCounter(playerWinTab, computerWinTab); //struggled as in where to put the counter at but always follow the flow of code execution

            });


            function evaluateResult(computerChoice, userInput){

                switch(userInput){
                    case 'rock':

                        if(computerChoice === "scissor"){
                            window.alert( `I can't believe a looney twoons like you beat the crap out of singularity, please "meow" now`);
                            playerWinTab++;;        // important to increament it to keep track of who won
                            div.innerText = `Result:            
                            Player1 wins: ${playerWinTab} 
                            Skynet wins : ${computerWinTab}` // interesting how results can be added or modified in the hrml file,
                        }
                        else if(computerChoice === 'paper'){
                            window.alert(`You lose ! Judgement Day is coming, buckle up`);
                            computerWinTab++;
                            div.innerText = `Result:
                            Player1 wins: ${playerWinTab}
                            Skynet wins : ${computerWinTab}`
                        }
                        else{
                            window.alert("well its a tie! round 2 time!!")
                        }
                        break;

                    case 'paper':

                        if(computerChoice === "rock"){
                            window.alert( `I can't believe a looney twoons like you beat the crap out of singularity, please "meow" now`);
                            playerWinTab++;
                            div.innerText = `Result:
                            Player1 wins: ${playerWinTab}
                            Skynet wins : ${computerWinTab}`
                        }
                        else if(computerChoice === 'scissor'){
                            window.alert(`You lose ! Judgement Day is coming, buckle up`);
                            computerWinTab++;
                            div.innerText = `Result:
                            Player1 wins: ${playerWinTab}
                            Skynet wins : ${computerWinTab}`
                        }
                        else{
                            window.alert("well its a tie! round 2 time!!")
                        }
                        break;

                    case 'scissor':

                        if(computerChoice === "paper"){
                            window.alert( `I can't believe a looney twoons like you beat the crap out of singularity, please "meow" now`);
                            playerWinTab++;
                            div.innerText = `Result:
                            Player1 wins: ${playerWinTab}
                            Skynet wins : ${computerWinTab}`
                        }
                        else if(computerChoice === 'rock'){
                            window.alert(`You lose ! Judgement Day is coming, buckle up`);
                            computerWinTab++;
                            div.innerText = `Result:
                            Player1 wins: ${playerWinTab}
                            Skynet wins : ${computerWinTab}`
                        }
                        else{
                            window.alert("well its a tie! round 2 time!!")
                        }
                        break;

                    default:

                        window.alert(`you sure you have put in the right input ?`);
                        //game();
                        break;
                }
            }

            let winCounter = (playerWinTab, computerWinTab) => { //to track who won and not
                if(playerWinTab >5 || computerWinTab >5)
                 window.alert('You won 5 rounds');  
            };
            //function game(){

            


            //     // for(let i=0; i<5; i++){
            //          const playerSelection = prompt("Please Enter Your Choice, I hope you win against the Skynet");
            //         const userInput = playerSelection.toLowerCase();        <!-- To make user input case insensitive -->
            //         const computerChoice = getComputerChoice();

            //         window.alert(`you chose ${userInput} while computer chose ${computerChoice}`);

            //         evaluateResult(computerChoice, userInput);
            //     } 

            //     window.alert(`You won ${playerWinTab} times out of a game of 5 rounds, I hope you enjoyed this game`);
            // }


            //game();
            function addFooter() {
   
                var footer = document.createElement('footer');
                var paragraph = document.createElement('p');
                var text1 = document.createElement('span');
                text1.textContent = 'Built by ';
                
                var profileLinkText = document.createElement('a');
                profileLinkText.textContent = 'Rajat Porwal';
                profileLinkText.href = 'https://github.com/rajat-porwal';
                
                var text2 = document.createElement('span');
                text2.textContent = ' | ';
                
                var linkedinLink = document.createElement('span');
                var sourceCodeAnchor = document.createElement('a');
                sourceCodeAnchor.textContent = 'LinkedIn';
                sourceCodeAnchor.href = 'https://www.linkedin.com/in/rajatporwal/';

                linkedinLink.appendChild(sourceCodeAnchor);
                paragraph.appendChild(text1);
                paragraph.appendChild(profileLinkText);
                paragraph.appendChild(text2);
                paragraph.appendChild(linkedinLink);
                footer.appendChild(paragraph);
                
                document.body.appendChild(footer);

                var style = document.createElement('style');
                style.textContent = `
                    footer {
                        background-color: #2c3e50; 
                        color: #ffffff; 
                        padding: 20px; 
                        text-align: center;
                        position: fixed;
                        bottom: 0;
                        left: 0;
                        width: 100%;
                        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2); 
                        transition: background-color 0.3s ease; 
                    }
                    
                    footer p {
                        margin: 0;
                    }
                    
                    footer a {
                        margin-left: 3px;
                        margin-right: 3px;
                        color: #3498db; 
                        text-decoration: none;
                        transition: color 0.3s ease; 
                    }
                    
                    footer a:hover {
                        color: #2980b9; 
                        text-decoration: underline;
                    }
                
                `;
                document.head.appendChild(style);
                }
                addFooter();
        </script>
    </body>
</html> 
